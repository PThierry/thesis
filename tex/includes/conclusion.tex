%%
%%
%% conclusion.tex for  in /home/phil/Travail/Doctorat/these/tex/includes
%%
%% Made by Philippe THIERRY
%% Login   <Philippe THIERRYreseau-libre.net>
%%
%% Started on  lun. 09 sept. 2013 15:56:13 CEST Philippe THIERRY
%% Last update ven. 18 avril 2014 17:34:59 CEST phil
%%

% go to odd page
\newpage
\hbox{}
\cleardoublepage

\chapter*{Conclusion générale}
\label{sec:conclusion}
\addcontentsline{toc}{chapter}{Conclusion générale}

\paragraph{}
Dans le cadre de ma thèse, j'ai proposé une solution afin de résoudre la
problématique d'interconnexion des différents réseaux véhiculaires qui
ont été déployés dans les systèmes des véhicules militaires et qui commencent
à apparaître pour certains d'entre eux dans les véhicules civils. Il s'agit
à la fois de réseaux de bord, en général basés sur des bus de type CAN ou
équivalents et exigeants de fortes contraintes de sûreté, mais également de
réseaux multimédias, dont les niveaux de sécurité varient en fonction des
données qu'ils font transiter, et dont la criticité est plus ou moins
élevée. Ces réseaux, initialement complètement indépendants,
sont aujourd'hui interconnectés afin de permettre le transfert de données
vers des interfaces de gestion unifiées locales ou parfois distantes.
Néanmoins, les domaines de sécurité et de sûreté associés à ces différents
réseaux doivent être respectés :
\begin{itemize}
\item en terme de sûreté de fonctionnement, la problématique temps réel est au
c{\oe}ur des contraintes de transmissions de l'information. Les informations
doivent être transmises avec une échéance maîtrisée et sans perte dans le
cadre d'un traitement nominal. Les domaines de moindre
sûreté ne doivent pas impacter le niveau de sûreté des domaines les plus
contraints, comme par exemple celui associé au réseau de bord ;
\item en terme de sécurité, les données transitant
d'un domaine à l'autre sont validées au moment du changement de
domaine, et autorisées selon la politique de sécurité associée au changement
de domaine.
\end{itemize}


Le respect des domaines de sécurité et de sûreté implique la présence de passerelles
trans-domaines pour assurer une étanchéité suffisante à la fois en terme de
sûreté de fonctionnement et en terme de sécurité. Ces passerelles doivent
pouvoir garantir un comportement à la fois temps réel et sûr.


Ces passerelles étant
déployées dans des véhicules, elles sont également contraintes par des
exigences de poids, de consommation, de volume et de certification en terme
d'embarcabilité (prise en compte des contraintes de vibrations, de poussière, de
température ambiante).


Au regard de la problématique initiale des systèmes Systroniques,
le but de ma thèse a été de proposer une architecture logicielle pour
une telle passerelle:
\begin{itemize}
\item compatible avec les contraintes de sécurité présentes dans les véhicules
militaires (confidentialité des données, intégrité, disponibilité),
\item compatible avec les contraintes de temps réel et de sûreté de
fonctionnement, afin d'agir comme un élément cloisonnant entre un
environnement certifié et un environnement non-certifié apte à transmettre de
l'information à échéance maîtrisée.
\end{itemize}


Au delà des contraintes de sécurité et de sûreté de fonctionnement,
correspondant à des contraintes métier, j'ai souhaité construire une solution 
évolutive et paramétrable, afin de pouvoir instancier plusieurs profils
de passerelles en m'appuyant sur une modularité intrinsèque à l'architecture
logicielle que je propose. Le choix d'architecture a donc été un point crucial
dans la recherche de la solution.


Ainsi, au travers de mes travaux, j'ai proposé 
un framework logiciel générique et évolutif plutôt qu'une solution
répondant à un besoin très spécifique. Ce framework a pour but de servir de
structure de base pour construire des passerelles d'interconnexion tant pour
des besoins sécuritaires que pour des besoins de sûreté de fonctionnement. Les
différentes fonctions que je propose doivent être vues comme des modules
facultatifs autonomes, à accorder selon le besoin, pour construire une solution
complète, et doivent donc être enrichis au fur et à mesure, pour apporter des
fonctions pré-construites au framework.\\
L'usage d'un tel framework permet ainsi de décliner une gamme complète de
produits, et donc de répondre à des ensembles de besoins les plus larges
possible.


Dans le cadre de ma thèse, j'ai validé la conformité de l'architecture
générale en terme de sécurité et de temps réel. Pour cela, je me suis appuyé sur une
architecture de type MultiLevel Security, basée sur un micro-noyau considéré
de confiance, compatible avec les exigences temps réel au travers d'une
certification DO-178B DALB, ainsi que sur une architecture logicielle basée
sur Linux dans le cadre des maquettages.


Les contraintes de sécurité que j'ai prises en compte dans le cadre de ma thèse
ciblent la confidentialité et l'intégrité des données. La disponibilité
n'est pas considérée et nécessiterait quant à elle une étude complémentaire afin
de compléter la solution pour intégrer le support des exigences associées.


Aux différentes contraintes de sécurité sont associés des
modules logiciels certifiables, visant chacun à implémenter une fonction de
sécurité donnée. Ces modules sont appelés {\it moniteurs de sécurité}. Ces moniteurs
sont autonomes et compatibles avec l'ensemble des contraintes de temps réel. La
sécurité de l'ensemble de la solution se construit au travers du chaînage de
ces différents modules, en fonction des exigences de sécurité requises. 
Je les associe, selon le besoin, à des machines virtuelles hébergeant un
système d'exploitation riche, afin de pouvoir profiter de l'implémentation de
piles protocolaires préexistantes. Les machines virtuelles, à l'inverse des
moniteurs de sécurité, ne sont pas certifiables du fait de leur volumétrie, et
nécessitent donc l'intégration en entrée et en sortie de moniteurs de sécurité
en charge de valider les traitements qu'ils effectuent.

La validation des contraintes de temps réel se fait alors au travers de la validation de
l'ordonnançabilité de la solution complète, et doit donc être validée pour
chaque construction de solution. Cependant, afin de formaliser une telle
validation, j'ai défini dans un premier temps un ensemble d'équations
permettant de valider l'ordonnançabilité d'une solution générique sur une
architecture MLS, telle qu'utilisée dans ma thèse.


La cible industrielle de ma thèse est un produit embarqué véhiculaire à fortes
contraintes de taille, de poids et de consommation énergétique. Cela implique qu'il n'est
pas possible de dimensionner l'architecture matérielle pour assurer
l'ordonnançabilité de l'ensemble des traitements avec un calcul du WCET très
pessimiste. Afin d'assurer malgré tout une garantie de traitement correct,
j'ai proposé une solution basée sur une approche à criticité mixte, déterminant
hors-ligne quels traitements doivent être assurés et quels traitements peuvent
être arrêtés en cas de dépassement de charge impactant l'ordonnançabilité de
l'ensemble des tâches. Le choix des traitements n'étant pas soumis au choix d'un flux, l'usage de la criticité
mixte peut être un bon complément à l'usage de la Qualité de Service au sens
Télécom du terme. Ainsi, plutôt que de prioriser des flux réseau, il est
possible de réduire les travaux successifs effectués sur ces flux en fonction du
niveau de criticité de chaque travail. Dans le cadre de ma thèse, la
solution cible le transfert de divers flux utilisant divers éléments
d'entrée/sortie (bus CAN, Ethernet, etc). Elle ne s'appuie donc pas sur le
principe de Qualité de Service Réseau, cette dernière étant spécifique au type
de média et de protocole utilisé pour faire transiter les données. Néanmoins,
je prend comme hypothèse que le réseau est apte à assurer des contraintes de
latence sur les flux, et donc supporte de tels principes.

\section*{Limites de la solution et perspectives}


La solution que je propose permet de répondre à diverses exigences de
sécurité et de sûreté de fonctionnement. Pour cela, je propose l'intégration
de plusieurs moniteurs de sécurité, comme la diode logicielle ou encore
l'émetteur périodique. Néanmoins, seule la diode logicielle a été validée en
terme de sécurité, au travers d'une Cible de Sécurité de Premier Niveau (CSPN).
Néanmoins, le moniteur
diode, tout comme les autres moniteurs, n'ont pas été validés en terme de
fiabilité de fonctionnement, au travers d'une validation SIL. Cette validation
est nécessaire pour assurer la conformité de l'implémentation du moniteur avec
les contraintes de temps réel de la passerelle dans un cadre véhiculaire.

De plus, la présence de compartiments non-certifiable dans le
chemin de données, pour le
traitement des flux télécom de type IP, ne permet pas de garantir de
manière forte une latence de traversée maximum de la passerelle. Pour cela, il
faut que l'ensemble des éléments du chemin de données soient temps réel. A
défaut de pouvoir utiliser dans ma thèse une pile réseau certifiée ou
certifiable, je me suis appuyé sur un noyau Linux utilisant le patch LinuxRT,
limitant ainsi le comportement non temps réel du noyau Linux. Dans le cadre
d'une véritable passerelle, et en fonction du niveau de certification demandé,
il peut être nécessaire de remplacer Linux par un environnement certifiable
sachant répondre au même besoin (comme par e.g. la personnalité POSIX du
micro-noyau PikeOS, ou au travers de piles réseaux propriétaires).\\
La présence d'un système d'exploitation GNU/Linux impacte également le niveau
de sécurité du système. Dans le cadre de ma thèse, je me suis prémunis d'une
potentielle corruption de ce dernier en m'appuyant sur des moniteurs de sécurité en
amont et en aval, afin de limiter fortement l'impact d'une telle corruption.
Au final, seule la disponibilité des flux est impactée, si la corruption de
l'environnement GNU/Linux se traduit par un blocage des flux. Pour cette
raison, je ne répond pas à l'exigence de disponibilité (au sens de la
sécurité). Cependant, la corruption de l'environnement GNU/Linux de la
passerelle reste complexe pour un attaquant, si on ajoute des protections
physiques aux différentes protections logiques apportées par le Separation
Kernel et les moniteurs de sécurités. On peut pour cela s'appuyer sur les
mécanismes classique de durcissement des équipements militaires, en fonction
de leur impact en terme de poids et de volume.


Ainsi, le framework que j'ai proposé permet de répondre à un certain nombre de
contraintes formalisées dans le Chapitre \ref{sec:matrix}, qu'elles soient liées à la sécurité, la sûreté de fonctionnement,
ou l'embarquabilité de la solution. En enrichissant les différents modules que
j'ai proposé et en implémentant les fonctions décrites comme le support de la
criticité mixte, elle permettrait potentiellement de construire des solutions
modulaires et certifiables pour répondre aux nouveaux besoins naissants de
véhicules connectés et autonomes, tant dans le cadre civil que dans le cadre
militaire.


Les différents travaux que nous avons réalisés ont également permis, dans le
cadre d'un ordonnancement à criticité mixte, d'intégrer la possibilité de
réinitialiser le niveau de criticité d'un jeu de tâches. Néanmoins, ces travaux
ont été menés dans un cadre mono-c{\oe}ur. La problématique de retardement
de l'accroissement de criticté, tout comme la capacité à réinitialiser la
criticité d'un jeu de tâche exécutée dans un contexte multi-c{\oe}urs reste
donc entière.

Dans le même temps, l'usage d'ordonnancement hiérarchique, permettant de
décorréler des familles de traitements (par exemple pour des raisons
de sécurité ou encore de sûreté de fonctionnement), reste aujourd'hui
complexe dans le cadre des architectures multi-c{\oe}urs. Les interactions et
les problématiques de communications entre les différentes fonctions exécutées
sur différents c{\oe}urs sont également potentiellement impactantes en
terme de sécurité (via l'usage potentiel de canaux cachés en mesurant les
temps d'accès au bus ou via l'usage des contrôleurs de cache partagés)

Il reste ainsi aujourd'hui un grand nombre de sujets complexes à étudier
afin de pouvoir intégrer dans des produits industriels les derniers travaux tant en
terme de temps réel que de sécurité logicielle, comme par exemple:
\begin{itemize}
\item la capacité à intégrer un comportement temps réel basé sur la criticité
mixte sur une architecture de type Multi-Processor System on Chip (MPSoC),
\item la capacité de passage à l'échelle (accroissement du débit et du nombre
d'interfaces réseau) d'une telle architecture, sur les processeurs spécialisés dans le
réseau, comme les processeurs Cavium Octeon ou Freescale CorIQ,
\item la possibilité d'intégrer des traitements associés à des domaines de
sécurité disjoints sur un même SoC tout en assurant un cloisonnement à la fois
logiciel et matériel des chemins de données (impact de l'usage des contrôleurs
de caches locaux et/ou partagés et de l'interconnect),
\item l'impact et la compatibilité des travaux sur les contrôleurs de caches
tant sur les propriétés temps réel que les propriétés sécuritaires d'un
système multi-niveaux de sécurité (MLS),
\item l'impact de la virtualisation matérielle des processeurs récents
(Freescale QorIQ ou ARM Cortex A15, A53 ou A57), tant en terme de sécurité
qu'en terme de latence d'ordonnancement des machines virtuelles,
\item la mesure de l'impact de moniteurs de sécurité multiples et complexes
dans le cadre de passerelles garantissant un temps de traversée borné, comme
par exemple des moniteurs DPI complexes, en charge de détecter des motifs
et comportements dynamiques sur des profils de flux divers.
\end{itemize}
%
