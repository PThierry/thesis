%%
%%
%% problematique.tex for doctorat in /home/phil/Travail/Scolarite/Doctorat/doc/tex
%%
%% Made by Philippe THIERRY
%% Login   <Philippe THIERRYreseau-libre.net>
%%
%% Started on  mer. 25 nov. 2009 20:37:12 CET Philippe THIERRY
%% Last update Mon Jul 19 10:07:22 2010 Philippe THIERRY
%%


\part{Problématique générale et concepts clefs}


\chapter{Contexte et Problématique générale}
\doMinitoc
\label{sec:problematique}
%%%%%

\section{Problématique des systèmes véhiculaires militaires}

\paragraph{}
Le client demande aujourd'hui de permettre d'interconnecter les divers réseaux
embarqués dans un véhicules. Dans le cadre des véhicules militaires, ces
réseaux peuvent porter des contraintes de temps réel, de fiabilité mais
également de sécurité.\\
La contrainte sécuritaire est présente dans les véhicules militaires, mais également dans
d'autres domaines comme le médical (accès aux données médicales du patient dans le
véhicule) ou la police (accès au différentes bases de données). Dans le même
temps, les exigences de temps-réel et de fiabilité restent fortement présentes
dans le cadre des véhicules militaires. Ainsi la fiabilité de la gestion du système
d'arme, en charge de débrayer les mécanismes d'attaque lors de l'ouverture d'une
des portes du véhicule, est critique, afin d'éviter tout accident. De la même
manière, les contraintes de temps-réel sont fortement présentes dans le cas du
système de gestion du blindage transparent, en charge de remonter l'ensemble des
flux des caméras extérieures au conducteur, dans un véhicule sans fenêtre.\\

Jusqu'à présent, les domaines à fortes contraintes de temps-réel, de
fiabilité et de sécurité restaient physiquement séparés. De nos jours, avec l'accroissement de la complexité des
éléments déployés dans les véhicules, il est fortement demandé par les différents clients étatiques de fusionner
ces domaines sur un même matériel, à la seule exception des éléments à forte
contrainte de fiabilité, afin de limiter le poids, le volume et la
consommation des différents éléments technologiques présents.\\

De plus, il est également demandé de permettre une
meilleure centralisation de la supervision des différents composants, que ces
derniers fassent partie d'un domaine à forte contrainte de temps-réel, de
fiabilité ou d'un domaine à forte contrainte sécuritaire.

Ainsi, il devient nécessaire de définir une passerelle permettant d'interagir à la fois avec des
domaines à fortes contraintes temps-réel, des domaines à fortes contraintes de
fiabilité et plusieurs domaines de sécurité. Cette passerelle doit alors
assurer à la fois :
\begin{itemize}
  \item un cloisonnement strict des domaines de sécurité disjoints
  \item le transfert de données du domaine temps-réel tout en assurant une
    latence de traversée maximum garantie
  \item le transfert de données de supervision du domaine à fortes contraintes de
    fiabilité sans pour autant impacter ces éléments
\end{itemize}

Afin de présenter plus précisément les enjeux et limitations associés à
l'intégration d'une passerelle pour interconnecter les différents réseaux
embarqués dans le véhicule, il est nécessaire de définir tout d'abord un
certain nombre de concepts. Ceux-ci sont décrits dans les Sections
\ref{sec:concepts_gen} et \ref{sec:concepts_veh}. La description précise
des enjeux, ainsi que les premiers éléments de solutions, sont décrit dans
la Section \ref{sec:fin_problematique}.

\section{Notions et définitions générales}
\label{sec:concepts_gen}

\subsection*{Notions d'architecture}

\paragraph{}
Dans le cadre des architectures véhiculaires, il existe un grand nombre de
systèmes.
\PhDdefinition{sys}{Système}{
  On appelle système un ensemble d'éléments matériels et logiciels
  interagissant ensemble dans le but d'effectuer une fonction ou un ensemble
  de fonctions connexes donné(e).
}

\PhDdefinition{sysdesys}{Système de systèmes}{
  On appelle système de systèmes un ensemble complexe faisant s'interconnecter
  plusieurs systèmes entre eux. Une telle interconnexion peut être par exemple la
  conséquence d'un besoin de supervision centralisé.
}

Dans un véhicule militaire, on retrouve un système de systèmes, en charge de
gérer, entre autres:
\begin{itemize}
\item Le système d'armes, en charge de gérer l'armement et le blindage
\item Le système de bord (appelé aussi réseau de bord du fait de son très
grand nombre de liens d'interconnexion), en charge de gérer les composants moteur
\item Le système de communication, en charge de gérer les communications entre
le véhicule et l'extérieur (autres véhicules, le quartier général, etc.)
\end{itemize}

\PhDdefinition{syssystro}{Système Systronique}{
Lorsqu'un système de systèmes est construit pour être intégré à un véhicule, et
est en charge d'associer des systèmes véhiculaires (réseau de bord) à des
systèmes de communications complexes, on parle alors de système systronique.
}

Pour être intégrable dans un véhicule, un élément matériel doit être
compatible d'un facteur de forme spécifique.

\PhDdefinition{ffactor}{Facteur de forme}{
On appelle facteur de forme les dimensions, le type d'alimentation, le nomre de
ports ou encore le positionnement des connecteurs. Il existe un grand nombre
de facteurs de formes industriels, comme le microTCA \cite{walrod2008open}. 
}

Dans le cadre de ma thèse, je cible les problématiques d'interconnexions
internes aux systèmes Systroniques.

\subsection*{Notions et terminologies de sécurité}
\label{subsec:secu}

\subsubsection*{Principes généraux de la sécurité}

\paragraph{}
Un système d'information est dit sécurisé lorsqu'il respecte, pour les données
qu'il traite, les 3 principes de sécurité suivants :
\begin{itemize}
\item Disponibilité
\item Intégrité
\item Confidentialité
\end{itemize}

\paragraph{}
Les définitions suivantes correspondent à des principes sécuritaires. Elles
peuvent ne pas correspondre aux définitions liées à la sûreté de
fonctionnement. Ces définitions sont présentes dans le National Information
Assurance Glossary \cite{cnssi_4009}.

\PhDdefinition{dispo}{Disponibilité}{
La disponibilité (au sens sécuritaire) est la propriété d'un objet à être accessible et utilisable
sur demande d'une entité autorisée.
}

\PhDdefinition{integ}{Intégrité}{
L'intégrité (au sens sécuritaire) est une propriété d'un objet à ne pas avoir été modifié par
un quelconque sujet non autorisé.
}

\paragraph{}
Dans la pratique, l'intégrité des données est le plus
souvent vérifiée par des algorithmes de hashage ou des sommes de contrôle
(par exemple le CRC32 des trames réseau Ethernet). On s'appuie également sur
la cryptographie asymétrique pour générer des signatures, afin de garantir
l'intégrité de la somme de contrôle.

\PhDdefinition{confi}{Confidentialité}{
La confidentialité est la propriété d'un objet à n'être accessible qu'à des
sujets ayant les droits suffisants pour accéder à l'information qu'il porte.
}

\PhDdefinition{secdom}{Domaine de sécurité}{
On appelle domaine de sécurité un système dans lequel l'ensemble des éléments
doivent respecter les mêmes contraintes d'intégrité, de confidentialité et de
disponibilité.
}

\PhDdefinition{secpol}{Politique de sécurité}{
Pour garantir la sécurité d'un domaine de sécurité donné, on définit une
politique de sécurité, en charge de définir l'ensemble des fonctions de
sécurité nécessaire au respect des contraintes de sécurité du domaine.
}

\paragraph{}
Le niveau de sécurité d'un système se détermine grâce à un standard
international : les Critères Communs pour l'évaluation sécuritaires des
technologies de l'information \cite{cc_docs}. On parle plus régulièrement des
Critères Communs
(dénotés CC). Ceux-ci définissent 7 niveaux, appelés EAL
(Evaluation Assurance Level), de EAL 1 (le plus faible) à EAL 7 (le plus
élevé).

La fragilité d'un système en terme de sécurité dépend entre autres de sa surface d'attaque.

\PhDdefinition{attsurf}{Surface d'attaque}{
On appelle surface d'attaque l'ensemble des portes d'entrées permettant d'impacter la
sécurité du système. Il peut s'agir d'une interface réseau non protégée ou
encore de processus logiciels possédant des failles exploitables. La mise en
place de fonctions de sécurité (comme par exemple un pare-feu) permet de
réduire la surface d'attaque.
}

\subsection*{Notions liées à la fiabilité et au temps-réel}

\paragraph{}
Les systèmes véhiculaires militaires intègrent des fonctions impactant la vie
des passagers. En conséquence, ils possèdent des contraintes de fiabilité
et des contraintes de temps-réel.\\
La fiabilité définit la capacité d'un système à exécuter ses traitements sans erreur. Ainsi, un
système fiable à 99,9\% assure un traitement sans erreur dans 99,9\% de sa
durée d'exécution. Plus le système assure une fiabilité proche de 100\%, plus
son niveau de fiabilité est élevé.\\
On dit qu'un système est temps-réel lorsqu'il doit garantir des délais
maximums dans l'exécution de ses fonctions. Il est en charge d'exécuter un ensemble de
tâches. Une tâche correspond à une fonction donnée du système.

\PhDdefinition{syscrit}{Système critique}{
On appelle système critique un système pouvant mettre en danger des vies
humaines ou du matériel en cas de défaillance. C'est le cas par exemple des
systèmes avioniques ou véhiculaires.
}

\PhDdefinition{nivass}{Niveau d'assurance}{
On appelle niveau d'assurance le niveau de certification exigé sur les
différents composants logiciels et matériels en terme de fiabilité ou de temps
réel. Dans le cadre des systèmes véhiculaires, on s'appuie sur la norme SIL
(Safety Integrity Level) \cite{smith2010safety}, graduée de 1 (niveau le plus faible)
à 4 (niveau le plus fort). Cette dernière s'instancie, dans le cadre du
logiciel embarqué véhiculaire, au travers des règles édictées par
l'association MISRA (Motor Industry Software Reliability Association)
\cite{misraweb}.
}

\PhDdefinition{syssur}{Système sûr}{
  Un système est dit sûr si son niveau d'assurance est compatible de son niveau
  de criticité. Il possède donc des
  propriétés de fiabilité et des propriétés de temps-réel adequates pour assurer
  la protection des vies humaines ou du matériel correspondant à son niveau de
  criticité. Les problématiques de sécurité telles que définies dans la
  Section \ref{subsec:secu} ne font pas partie des propriétés d'un système sûr.
}

\paragraph{}
Il existe trois modèles d'exécution temps-réel:
\begin{itemize}
  \item Le modèle périodique: Les instanciations successives d'une tâche
    (appelées travail) s'effectuent avec une inter-arrivée constante
  \item Le modèle sporadique: Les instanciations successives d'une tâche
    s'effectuent avec une inter-arrivée variable, mais dont la plus petite
    inter-arrivée est connue et non nulle
  \item Le modèle apériodique: Il n'y a pas d'instanciation successive d'une
    tâche, et donc pas de principe d'inter-arrivée
\end{itemize}
Dans le cadre de ma thèse, les traitements sont induits par des événements
extérieurs asynchrones (correspondant à des flux réseau). En
conséquence, je m'appuie sur un modèle sporadique. C'est ce dernier qui est
donc considéré par la suite.

\paragraph{}
Chaque tâche temps-réel se définit par les propriétés suivantes:
\begin{itemize}
\item Un coût d'exécution pire cas, dénoté WCET (Worst Case Execution Time).
\item Une période, déterminant l'inter-arrivée minimum entre deux travaux de la
  tâche.
\item Une échéance, correspondant à la durée maximum entre l'instanciation du
  travail et la terminaison de son exécution.
\end{itemize}
Un système logiciel temps-réel est en charge d'assurer que l'ensemble des
travaux terminent leur exécution avant leur échéance. Pour cela il s'appuie
sur des algorithmes d'ordonnancement. Ceux-ci sont en charge d'assurer un
ordonnancement de l'exécution des travaux respectueux de l'ensemble de leurs
échéances.

\section{Notions et terminologies véhiculaires}
\label{sec:concepts_veh}

\subsection{Généralités sur les réseaux véhiculaires}

\paragraph{}
De nos jours, les véhicules embarquent de plus en plus de matériel et de
logiciel. Ces derniers sont impliqués pour l'aide à la conduite (ABS, ESP,
etc.) dans le cadre d'un réseau de bord. Ce réseau est en réalité une
interconnexion d'un grand nombre de réseaux basés par exemple sur des bus série de type
CAN \cite{iso11898}, agrégeant l'ensemble des éléments d'aide à la conduite.
Le réseau de bord est principalement basé sur des automates matériels avec une
faible présence du logiciel. Ce réseau possède de fortes contraintes
temps-réel et de fiabilité, sans considération particulière en terme de sécurité. L'absence de
sécurité vient du fait que l'ensemble des acteurs physiques et logiques
composant ce réseau sont maîtrisés et certifiés.

\paragraph{}
Le réseau de bord n'est aujourd'hui plus le seul réseau présent dans les
véhicules. Un deuxième réseau a fait son apparition au fur et à mesure des
années. Il s'agit du réseau multimédia. A l'inverse du réseau de bord, ce
dernier possède de plus faibles exigences de temps-réel, et de plus fortes
exigences de sécurité. Les différentes fonctions qu'il porte n'impactent pas
la sûreté de fonctionnement du véhicule tant que le réseau de bord et le
réseau multimédia ne sont pas interconnectés. Cette sûreté découle entre
autres du besoin de
respect des latences pire cas des traitements critiques. Néanmoins, les services
multimédia fournis par le véhicule nécessitent d'être protégés d'éléments
logiciels extérieurs non maîtrisés. Ainsi, le système multimédia du véhicule
doit être protégé contre les terminaux mobiles s'y connectant, comme les
téléphones portables ou les tablettes.
\paragraph{}
Dans le cadre du besoin véhiculaire militaire, le réseau multimédia fournit
principalement des mécanismes de communication radio entre véhicules (au sein d'un
groupe) et entre le véhicule et sa base de commandement. Il fournit également
des mécanismes de supervision locaux, comme la gestion des caméras extérieures
et/ou intérieures ou du système d'arme si ce dernier existe.
Le réseau d'interconnexion du véhicule est riche et hétérogène. En effet, ce
dernier s'appuie sur différents types d'interconnexions (courte portée, longue
portée, satellitaire, etc.). Ces différents réseaux sont utilisés pour un
grand nombre de transmissions. Il peut s'agir de la réception des ordres de
mission, de communications phoniques ou visiophoniques, de la réception ou
de l'émission de positions GPS. Le véhicule possède donc un véritable système
Systronique.

\subsection{Les systèmes systroniques}

\paragraph{}
Avec l'intégration de plus en plus forte des réseaux IP dans les systèmes
embarqués (véhiculaires, avioniques non temps-réel, transport),
l'interconnexion de réseaux locaux initialement disjoints avec un ou des
réseau(x) d'infrastructure est de plus en plus courante. Les exigences
sécuritaires qui sont alors associées à une telle interconnexion peuvent être
fortes, selon le type de données transmises.\\
L'interconnexion des réseaux locaux est poussée par différents besoins. Dans le
cadre des systèmes embarqués véhiculaires, le besoin initial, toujours fort aujourd'hui
et dont la résolution reste complexe, correspond à l'intégration sur un même
matériel de plusieurs réseaux indépendants. Il s'agit d'un partage, sur un
unique matériel pour des raisons d'exigences de volume, de poids ou de
consommation, de plusieurs traitements logiques dont le cloisonnement doit être
garanti. Ce cloisonnement est exigé pour des raisons de sureté afin que le
partage du matériel ne vienne pas impacter le bon fonctionnement des
environnements logiciels.

\paragraph{}
De plus, dans les systèmes embarqués militaires, la colocalisation impacte des
réseaux dont la confidentialité, l'intégrité et la disponibilité des données
peuvent être différentes. Ces derniers nécessitent de plus d'être interconnectés. Chacun de
ces réseaux ayant des contraintes de sécurité différentes, ils appartiennent à
des domaines de sécurité disjoints. En conséquence, il doit exister des
mécanismes permettant d'interconnecter ceux-ci de manière sécurisé, afin de
valider l'ensemble des flux passant d'un domaine à l'autre.
La colocalisation de ces domaines sur un même matériel implique que ces
mécanismes soient logiques et non physique.\\
Le besoin d'interconnexion de domaines de sécurité a des réponses dans les systèmes d'informations,
au travers de l'usage de chiffreurs, de filtres et d'éléments matériels en
coupure \cite{tsf101}. Ces solutions restent ajourd'hui difficiles à intégrer
sur les systèmes embarqués, du fait de cette colocalisation. En effet, il s'agit la plupart du temps de
solutions impliquant plusieurs éléments matériels disjoints, principalement
sur des architectures de type x86 et sont en général intégrables
sous forme d'une lame format 1U ou supérieur.
%\paragraph{}
%Le niveau de sécurité d'un système dépend de l'impact de la non-garantie d'une
%ou plusieurs des propriétés associées à son domaine de sécurité.\\
%Afin de répondre au besoin de sécurité, des {\it fonctions de
%sécurité} sont implémentées. Ces dernières peuvent être logicielles ou matérielles, et
%permettent de répondre à tout ou partie des risques sécuritaires définis dans le
%cadre de l'étude du système.

\paragraph{}
De manière générale, ont définit les propriétés de sécurité d'un domaine de sécurité
comme l'association de contraintes de confidentialité, d'intégrité et de
disponibilité. Dans le cadre d'un système systronique, la confidentialité et
l'intégrité des données émises ou reçues sont prépondérantes, mais la
disponibilité n'est pas en reste, avec des exigences de maintien des
communications potentiellement très fortes malgré l'hostilité du milieu
de déploiement (désert, jungle, etc.).\\
Par exemple, le réseau de communication
avec la coalition et le réseau de communication avec le pays possèdent des
exigences de confidentialité différentes. Certaines informations pouvant être
des données exclusives au pays. Ainsi, un système systronique possède plusieurs
domaines de sécurité, dont le nombre est variant selon le véhicule et la
mission.
\paragraph{}
Un véhicule militaire possède également des exigences de temps-réel. C'est le
cas pour la gestion des caméras, du blindage réactif ou encore de la
désactivation du système d'arme lors de l'ouverture d'une porte extérieure.\\
Ces différents éléments ont des exigences de temps-réel plus ou moins
nombreuses. Afin de limiter le coût de certification et les contraintes
physiques des éléments de la chaîne de traitement temps-réel, le calcul du
coût d'exécution pire cas de celle-ci est plus ou moins pessimiste.\\
Si le calcul du coût d'exécution pire cas est faiblement 
pessimiste, il peut arriver, avec une faible occurrence, que le coût
d'exécution dépasse le coût d'exécution pire cas considéré dans le design du
système. Si le calcul est fortement pessimiste, le dépassement n'est en
principe pas possible. Dans ce dernier cas cependant, le coût de certification
mais aussi la puissance des éléments matériels embarqués sont impactées. Dans
ce cas, la puissance nécessaire au respect strict des exigences temps-réel
peut être incompatible avec des contraintes physiques liées au véhicule (volume,
température et consommation).\\
Afin de pouvoir répondre aux différentes exigences liées au besoin
véhiculaire, nous considérons différentes familles de traitements:
\begin{itemize}
\item les traitements à très forte exigence de sûreté ou de sécurité, dont la
latence d'exécution doit être à tout prix maintenue (système d'arme, blindage
transparent)
\item les traitements à forte exigence de sûreté ou de sécurité, dont la
latence d'exécution doit être respectée au mieux (caméras extérieures,
communications avec les autres véhicules)
\end{itemize}
Les deux familles sont donc exécutées de manière conjointe, sauf si la famille de plus
forte priorité génère un coût d'exécution dépassant le coût pire cas
initialement déterminé. Le système n'étant plus capable d'exécuter les deux
familles sans dépassement de la latence, il devient nécessaire de modifier
son comportement afin de garantir malgré tout l'exécution des fonctions les
plus critiques. On parle dans ce cas d'un système à criticité mixte, comme
décrit dans le Chapitre \ref{sec:mixedcriticity}. Un
tel système permet alors de respecter au mieux à la fois les exigences de
sécurité et de sûreté de fonctionnement, mais aussi les exigences physiques qui
découlent de l'environnement véhiculaire.

\section{Enjeux et limitations de l'existant}
\label{sec:fin_problematique}

\subsection{Les enjeux des systèmes systroniques}

\paragraph{}
Comme il a été vu précédemment, les enjeux dans les systèmes systroniques sont
importants, du fait de l'intégration continue de nouveaux systèmes de
communication, tant en terme de liens de communication locaux (interne au
véhicule), semi-locaux (i.e. entre des véhicules d'une même patrouille) et
longue distance (entre la patrouille et
les quartiers généraux) qu'en terme de traitements graphiques et vidéos. Il en résulte
un système complexe interconnectant des éléments:
\begin{itemize}
  \item Fortement temps-réel
  \item Temps-réel souple
  \item Non temps-réel
\end{itemize}
Aux contraintes temporelles auxquelles répondent les modèles temps-réel
s'ajoutent des contraintes de fiabilité. Elles sont présentes sur la grande
majorité des éléments d'un système Systronique, du fait de l'impact de ce
système sur les vies humaines. Ainsi, il est impératif que le système d'arme
soit fiable.

\paragraph{}
De manière orthogonale, ces mêmes éléments impliquent des contraintes de
sécurité variables, se déclinant en plusieurs domaines de sécurité.\\
L'interconnexion de tous ces domaines (tant de sécurité que temps-réel) est
néanmoins demandée. En effet, il est nécessaire dans un véhicule muni d'un
système systronique de:
\begin{itemize}
  \item Transférer de l'information désensibilisée d'un domaine de haut niveau
    de sécurité à un domaine de moindre niveau de sécurité
  \item Remonter de l'information d'un domaine de plus bas niveau de sécurité à un domaine
    de plus haut niveau de sécurité
  \item Remonter des données d'un domaine temps-réel dur avec de fortes
    contraintes de sûreté vers un domaine de plus faible niveau de sûreté,
    avec des contraintes de sécurité plus fortes
\end{itemize}

\paragraph{}
Ces interconnexions sont principalement la conséquence de l'apparition de
terminaux de contrôles locaux et portatifs agrégeant un grand nombre de
données. Ces terminaux doivent être compatibles de contraintes physiques fortes (poids, volume, consommation
électrique) et de contraintes de certification fortes (principalement liées au temps-réel
mais aussi, par exemple, à la résistance aux vibrations dans les véhicules). Le
coût associé à la production de tels produits est donc élevé. Ces derniers ne
doivent alors pas être multipliés pour des raisons de maîtrise des coûts. 
La séparation des domaines de sécurité et parfois de
sûreté n'est donc pas toujours physique. On s'appuie alors sur une séparation
logique de ces domaines. Il revient
alors au logiciel d'assurer cette séparation. Il lui revient également de fournir
des mécanismes d'interconnexion respectueux de l'ensemble des exigences de
sécurité et de sûreté.

\subsection{Limitations de l'existant}

\paragraph{}
Aujourd'hui, les systèmes systroniques maintiennent trois réseaux complètement
indépendants :
\begin{itemize}
  \item Le système de bord, en charge des éléments d'aide à la conduite et
  devant respecter des contraintes temps-réel et de fiabilité.
  \item Le système d'arme, ayant ces mêmes propriétés.
  \item Le système de communication, sans propriété de sûreté mais avec un
  grand nombre de contraintes de sécurité.
\end{itemize}

\paragraph{}
Il est demandé de pouvoir interconnecter ces trois systèmes afin de remonter des
informations du système de bord au système de communication, mais également du
système d'arme au système de communication.\\
Il est de plus demandé une modification profonde du système de communication afin de
permettre un partage de certains moyens de communication semi-locaux et distants
entre différents domaines de sécurité. En effet, la multiplication
des antennes génère à la fois un surcoût et une problématique de qualité de
signal radio liée aux interférences mutuelles des antennes.\\
De plus, du fait de l'incompatibilité des exigences de performance avec les
exigences physiques, l'intégration de solutions aptes à permettre des
traitements de criticité multiple est nécessaire au niveau de ces éléments
d'interconnexion entre ces différents domaines. Ces solutions ne sont
aujourd'hui pas au catalogue des industriels, et aucun produit existant
ne permet ce type de comportement.

\paragraph{}
Pour la sûreté de fonctionnement, l'existant correspond souvent aux avancées
technologiques qui ont été faites dans l'avionique, telles que l'IMA
(Integrated Modular Architecture), permettant une répartition optimisée des
fonctions pour assurer le respect des contraintes temps-réel. Les niveaux
élevés d'assurance (DO-178B pour le logiciel et DO-254 pour le matériel) assurent
également une grande fiabilité. Ces solutions répondent donc
parfaitement aux besoins de sûreté de fonctionnement. Elles sont alors tout à
fait à leur place dans le réseau de bord. Néanmoins, lorsque sûreté et
sécurité doivent être associés, ces solutions atteignent leurs limites. Il
devient nécessaire de concevoir des mécanismes logiques (dans le cas des
systèmes systroniques) permettant de respecter à la fois des besoins de sûreté et de
sécurité.

\paragraph{}
Pour la sécurité, l'existant est principalement basé sur les travaux intégrés depuis des
années dans la sécurisation des systèmes d'informations complexes.
Malheureusement, ces solutions s'appuient principalement sur des
éléments matériels positionnés en coupure entre chaque domaine de sécurité et sur la cryptographie.\\
Les éléments en coupure sont malheureusement difficilement intégrables. En
effet:
\begin{itemize}
  \item Ils sont souvent volumineux et consommateurs de courant
  \item Il ne sont pas certifiables pour les systèmes contraints avec
    des exigences physiques type résistance aux vibrations
  \item Leur facteur de forme n'est pas prévu pour de l'embarqué
\end{itemize}
Les solutions de cryptographie ne s'intègrent pas toujours aisément:
\begin{itemize}
  \item Dans les systèmes de communication vehiculaires, la cryptographie
    est faite au niveau de l'émetteur/récepteur radio plutôt que dans le réseau
    local. De plus, elle est souvent associée à des mécanismes d'évasion de fréquence afin
    de réduire encore plus le risque d'écoute
  \item Pour la gestion des domaines de sécurité locaux, les chiffreurs utilisés
    pour les systèmes d'information sont volumineux, lourds et consommateurs
    de courant, et doivent alors être substitués par un algorithme de
    chiffrement étatique logiciel ou matériel de type carte cryptographique de petite
    taille intégrable en début de mission
  \item Les mécanismes d'interconnexion assurant à la fois des exigences de
    sûreté et de sécurité fortes sont inexistants, du fait de la jeunesse de ce
    besoin, tant dans le véhiculaire que dans l'avionique.
\end{itemize}

\section{Synthèse et éléments de solution}

\paragraph{}
On constate qu'il devient aujourd'hui difficile d'échapper au besoin d'un
système communicant intégrant de multiples niveaux de sûreté et de sécurité
interagissants de concert. Pour permettre une interconnexion de ces niveaux
tout en assurant un cloisonnement suffisant pour ne pas impacter les exigences
initiales de chacun d'entre eux, de nouveaux mécanismes doivent être étudiés
afin de pouvoir répondre à l'ensemble des exigences des systèmes systroniques. Les
exigences que doivent respecter ces solutions sont de trois types:
\begin{itemize}
  \item Sûreté de fonctionnement, principalement en terme de garantie de
    latence, mais également en terme de protection du domaine de plus haut
    niveau de sûreté
  \item Sécurité, pour garantir la confidentialité, l'intégrité et la
    disponibilité des données des différents domaines de sécurité lorsque ces
    derniers nécessitent d'être interconnectés
  \item Physique, afin de garantir que le logiciel est suffisamment peu couteux
    à l'exécution pour respecter les exigences de consommation
\end{itemize}

\paragraph{}
Une telle solution doit pouvoir se plier à ces trois familles d'exigences afin
de ne pas multiplier les produits devant être intégrés au système Systronique.
C'est un besoin qui dérive à la fois des exigences physiques et des exigences
financières, le coût des véhicules devant être maîtrisé.

\paragraph{}
L'ensemble des exigences décrites dans ce chapitre sont synthétisées sous
forme d'une matrice d'exigences dans le Chapitre \ref{sec:matrix}. C'est au
travers le la conformité à chacune des exigences de cette matrice qu'est
décrite ma solution.

\paragraph{}
Dans le cadre de ma thèse, je propose une solution logicielle pour répondre à
la problématique d'interconnexion des réseaux véhiculaires dans le cadre d'un
système Systronique. Le besoin de modularité est pris en compte afin de
rendre la solution configurable pour répondre aux différents besoins
d'interconnexion de réseaux, et plusieurs contraintes de sécurité et de sûreté
sont considérées afin de répondre à plusieurs exigences précises:
\begin{itemize}
\item Garantie de transfert de données à sens unique
\item Filtrage des données selon une politique de sécurité
\item Maîtrise du profil des flux transférés
\item Réduction des risques de transfert de données non homologués
\item Prise en compte dans le transfert de flux des différences de criticité
des flux à faire transiter et des traitements à effectuer sur ces derniers
\end{itemize}
Dans le cadre de ma thèse, la
solution logicielle est prévue pour être utilisée en tant que passerelle, tant
entre plusieurs domaines de sûreté qu'entre plusieurs domaines de
sécurité. Les différents modules proposés ont une faible empreinte et une
 forte autonomie, afin de permettre une certification du logiciel.

\paragraph{}
La passerelle étant l'élément en coupure entre les différents domaines de
sécurité, celle-ci doit garantir une maîtrise complète des données qui transitent.
La passerelle est potentiellement connectée à deux domaines de sécurité en
même temps. Cela implique que différentes parties de son logiciel s'exécutent
dans différents
domaines de sécurité. Une telle architecture implique une étude plus poussée du
cloisonnement entre les deux éléments logiciels. Ce cloisonnement s'effectue à
plusieurs niveaux:
\begin{itemize}
  \item Via l'usage d'une architecture de type MLS (MultiLevel Security),
    intégrant des éléments logiciels de confiance en coupure entre ces deux
    domaines. Ces éléments logiciels doivent être certifiables et performants,
    et sont donc définis comme des éléments simples devant répondre à une
    seule fonction. Dans ma thèse, j'appelle ces éléments des moniteurs de
    sécurité.
  \item Via la prise en compte de la problématique de canaux cachés et
    canaux auxiliaires, mécanismes permettant de faire transiter de
    l'information via un élément souvent matériel au travers d'une étude
    comportementale. Le matériel ciblé est souvent le contrôleur de cache, qui
    permet, via des mesures de temps d'exécution, de récupérer de l'information
    sur le comportement d'un autre logiciel exécuté sur le même CPU. Afin de
    répondre à cette problématique, nous avons proposé une solution \cite{thierry2011toward}
    permettant de mieux contrôler le comportement du cache L1, afin de
    contrecarrer cette attaque.
\end{itemize}

\paragraph{}
La passerelle doit également pouvoir répondre à des exigences de garantie de temps de
latence maximum. L'usage d'une architecture de type MLS a pour conséquence
l'usage d'un ordonnancement de type hiérarchique, sur base TDM (Time Division
Multiplexing). Afin de
définir une méthode pour déterminer l'ordonnançabilité de tâches temps-réel
sur une base d'ordonnancement TDM, nous avons formalisé les propriétés
nécessaires au respect des latences \cite{thierry2011real} permettant de
définir la taille des slots temporels du TDM. Cette formalisation est
décrite dans le Chapitre \ref{sec:hierarchicalrt}.

\paragraph{}
Les principales exigences des systèmes Systroniques sont des exigences de
poids, de volume et de consommation. Leur impact principal est la limitation
de la puissance processeur embarquée, impactant potentiellement
l'ordonnançabilité de l'ensemble des tâches lorsque les calculs de coûts
d'exécution sont pessimistes. Afin de pouvoir intégrer à la fois des tâches
fortement critique et des tâches plus faiblement critique, il faut prévoir,
dans le cadre de l'intégration de l'ensemble des tâches, de potentiels
débordements de la part des tâches très critique. On s'appuie sur un ordonnancement à
criticité mixte. Afin de pouvoir gérer au mieux cette problématique,
 une étude a été faite \cite{santy2012relaxing} afin de:
\begin{itemize}
  \item Réduire les contraintes du changement de niveau de criticité, afin de
  limiter le nombre de tâches devant être désactivées
  \item Déporter au maximum le changement de niveau de criticité, au travers de
  l'intégration de la marge de tolérance \cite{bougueroua_george_midonnet}
  sur les durées de dépassement des WCET
  \item Formaliser l'instant où le niveau de criticité peut être réduit
\end{itemize}
La problématique de changement de niveau de criticité et de réduction de ce
dernier est étudiée dans le Chapitre \ref{sec:mixedcrit}.

\paragraph{}
Afin de valider la solution générale et intégrer plusieurs moniteurs de
sécurité, un maquettage a été réalisé et des mesures de performance
effectuées \cite{thierry2013etfa}. Trois moniteurs de sécurité ont été réalisés:
\begin{itemize}
  \item Une diode logicielle garantissant un transfert de données à sens unique
  \item Un filtre DPI (Deep Packet Inspection) pour valider le contenu des
    données en transit
  \item Un émetteur périodique, afin de décorréler le profil de flux reçu du
    profil de flux émis, pour éviter un canal caché sur l'étude de ce profil.
\end{itemize}
La fonction diode a également été implémentée dans le cadre d'un preuve de
concept répondant à l'ensemble des exigences sécuritaires (architecture MLS, compartimentation
forte, usage d'un ordonnancement TDM, nettoyage du cache lors du changement de
domaine) et une pré-évaluation EAL5+ a été faite, associée à un dépôt de
brevet \cite{thierry2013daudit}\cite{thierry2013dctrl}.

